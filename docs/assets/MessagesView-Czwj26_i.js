import{$t as e,Cn as t,En as n,Gn as r,Gt as i,J as a,Jt as o,Ln as s,Qt as c,Ut as l,Xn as u,Xt as d,Yt as f,Z as p,Zt as m,en as h,gn as g,mn as _,qn as v,tn as y,vn as b}from"./game-logic-Bi1l7y4K.js";import"./vendor-pinia-DqhKuBjp.js";import"./vendor-crypto-CQM8pryk.js";import"./game-i18n-Dr0JspcV.js";import"./vendor-others-DTUzJ7S-.js";import"./vendor-reka-ui-BEHIKScj.js";import"./vendor-utils-BlvnUqQX.js";import"./vendor-vueuse-CJcfYqoW.js";import{L as x,P as ee,S,Y as C,c as w,n as T,o as te,q as ne,r as re,v as ie}from"./vendor-icons-z9V6Jdbh.js";import"./TooltipProvider-BwjgS8_x.js";import{t as E}from"./CardDescription-BSLS07AU.js";import{m as D}from"./game-config-CG6z6nnH.js";import{A as O,H as k,K as ae,M as A,N as j,O as M,W as N,_ as P,b as F,d as I,f as L,j as R,k as z,q as oe,t as se,v as B,y as V}from"./index-BT5w6et-.js";import{t as H}from"./useGameConfig-b98LOtBY.js";import{i as ce,n as le,r as U,t as ue}from"./TabsTrigger-DrosU7aN.js";import{t as de}from"./BattleReportDialog-CGjL16c6.js";var W={key:0,class:`space-y-4`},G={class:`p-3 bg-muted rounded-lg`},K={class:`text-sm font-medium mb-2`},q={class:`text-xs text-muted-foreground`},J={class:`text-sm font-medium mb-2`},Y={class:`flex flex-wrap gap-3 text-xs sm:text-sm`},fe={class:`flex items-center gap-1`},pe={class:`flex items-center gap-1`},me={class:`flex items-center gap-1`},he={class:`flex items-center gap-1`},ge={key:0},_e={class:`text-sm font-medium mb-2`},ve={class:`grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs sm:text-sm`},ye={class:`text-muted-foreground`},X={class:`ml-1 font-medium`},Z={key:1},Q={class:`text-sm font-medium mb-2`},be={class:`grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs sm:text-sm`},xe={key:0,class:`block`},Se={class:`text-muted-foreground`},Ce={class:`ml-1 font-medium`},we={key:2},Te={class:`text-sm font-medium mb-2`},Ee={class:`grid grid-cols-2 sm:grid-cols-3 gap-2 text-xs sm:text-sm`},De={class:`text-muted-foreground`},Oe={class:`ml-1 font-medium`},ke=y({__name:`SpyReportDialog`,props:{report:{},open:{type:Boolean}},emits:[`update:open`],setup(a,{emit:o}){let l=a,p=o,{t:v}=ae(),{SHIPS:y,DEFENSES:b,BUILDINGS:ee}=H(),S=s(l.open);t(()=>l.open,e=>{S.value=e}),t(S,e=>{p(`update:open`,e)});let C=e=>e?Object.values(e).some(e=>e>0):!1;return(t,o)=>(_(),d(r(A),{open:S.value,"onUpdate:open":o[0]||=e=>S.value=e},{default:n(()=>[h(r(z),{"container-class":`sm:max-w-2xl max-h-[90vh]`},{header:n(()=>[h(r(O),null,{default:n(()=>[h(r(M),{class:`flex items-center gap-2`},{default:n(()=>[h(r(x),{class:`h-5 w-5`}),e(` `+u(r(v)(`messagesView.spyReport`)),1)]),_:1}),a.report?(_(),d(r(R),{key:0},{default:n(()=>[e(u(r(I)(a.report.timestamp)),1)]),_:1})):m(``,!0)]),_:1})]),default:n(()=>[a.report?(_(),c(`div`,W,[f(`div`,G,[f(`p`,K,u(r(v)(`messagesView.targetPlanet`)),1),f(`p`,q,u(a.report.targetPlanetName)+` [`+u(a.report.targetPosition.galaxy)+`:`+u(a.report.targetPosition.system)+`:`+u(a.report.targetPosition.position)+`] `,1)]),f(`div`,null,[f(`p`,J,u(r(v)(`messagesView.resources`))+`:`,1),f(`div`,Y,[f(`span`,fe,[h(j,{type:`metal`,size:`sm`}),e(` `+u(r(L)(a.report.resources.metal)),1)]),f(`span`,pe,[h(j,{type:`crystal`,size:`sm`}),e(` `+u(r(L)(a.report.resources.crystal)),1)]),f(`span`,me,[h(j,{type:`deuterium`,size:`sm`}),e(` `+u(r(L)(a.report.resources.deuterium)),1)]),f(`span`,he,[h(j,{type:`darkMatter`,size:`sm`}),e(` `+u(r(L)(a.report.resources.darkMatter)),1)])])]),a.report.fleet&&Object.keys(a.report.fleet).length>0?(_(),c(`div`,ge,[f(`p`,_e,u(r(v)(`messagesView.fleet`))+`:`,1),f(`div`,ve,[(_(!0),c(i,null,g(a.report.fleet,(e,t)=>(_(),c(`div`,{key:t},[f(`span`,ye,u(r(y)[t].name)+`:`,1),f(`span`,X,u(e),1)]))),128))])])):m(``,!0),a.report.defense&&C(a.report.defense)?(_(),c(`div`,Z,[f(`p`,Q,u(r(v)(`messagesView.defense`))+`:`,1),f(`div`,be,[(_(!0),c(i,null,g(a.report.defense,(e,t)=>(_(),c(`div`,{key:t},[e&&e>0?(_(),c(`span`,xe,[f(`span`,Se,u(r(b)[t].name)+`:`,1),f(`span`,Ce,u(e),1)])):m(``,!0)]))),128))])])):m(``,!0),a.report.buildings&&Object.keys(a.report.buildings).length>0?(_(),c(`div`,we,[f(`p`,Te,u(r(v)(`messagesView.buildings`))+`:`,1),f(`div`,Ee,[(_(!0),c(i,null,g(a.report.buildings,(e,t)=>(_(),c(`div`,{key:t},[f(`span`,De,u(r(ee)[t].name)+`:`,1),f(`span`,Oe,`Lv.`+u(e),1)]))),128))])])):m(``,!0)])):m(``,!0)]),_:1})]),_:1},8,[`open`]))}}),Ae={class:`container mx-auto p-4 sm:p-6 space-y-6`},je={class:`text-2xl sm:text-3xl font-bold`},Me={class:`text-xs sm:text-sm truncate`},Ne={class:`flex justify-between items-center gap-2`},Pe={class:`flex items-center gap-2 min-w-0 flex-1`},Fe={class:`flex justify-between items-center gap-2`},Ie={class:`flex items-center gap-2 min-w-0 flex-1`},Le={class:`flex justify-between items-center gap-2`},Re={class:`flex items-center gap-2 min-w-0 flex-1`},ze={class:`flex justify-between items-center gap-2`},Be={class:`flex items-center gap-2 min-w-0 flex-1`},Ve={class:`flex justify-between items-center gap-2`},He={class:`flex items-center gap-2 min-w-0 flex-1`},Ue={class:`space-y-3`},We={class:`text-sm`},Ge={class:`font-semibold mb-1`},Ke={class:`grid grid-cols-3 gap-2`},qe={key:0},Je={key:1},Ye={key:2},Xe={class:`text-xs text-muted-foreground`},Ze={class:`text-green-600`},Qe={class:`flex gap-2`},$e={class:`flex justify-between items-center gap-2`},et={class:`flex items-center gap-2 min-w-0 flex-1`},tt={class:`space-y-2`},nt={class:`text-sm`},rt={class:`font-semibold mb-1`},it={class:`grid grid-cols-3 gap-2`},at={key:0},ot={key:1},st={key:2},ct={class:`text-xs text-muted-foreground`},lt={class:`text-xs text-muted-foreground`},ut={class:`flex justify-between items-center gap-2`},dt={class:`flex items-center gap-2 min-w-0 flex-1`},$=y({__name:`MessagesView`,setup(t){let y=oe(),O=se(),{t:A}=ae(),j=s(`battles`),M=s(!1),L=s(!1),R=s(null),z=s(null),H=o(()=>[...y.player.battleReports].sort((e,t)=>t.timestamp-e.timestamp)),W=o(()=>[...y.player.spyReports].sort((e,t)=>t.timestamp-e.timestamp)),G=o(()=>y.player.spiedNotifications?[...y.player.spiedNotifications].sort((e,t)=>t.timestamp-e.timestamp):[]),K=o(()=>y.player.missionReports?[...y.player.missionReports].sort((e,t)=>t.timestamp-e.timestamp):[]),q=o(()=>y.player.npcActivityNotifications?[...y.player.npcActivityNotifications].sort((e,t)=>t.timestamp-e.timestamp):[]),J=o(()=>y.player.battleReports.filter(e=>!e.read).length),Y=o(()=>y.player.spyReports.filter(e=>!e.read).length),fe=o(()=>y.player.spiedNotifications?y.player.spiedNotifications.filter(e=>!e.read).length:0),pe=o(()=>y.player.npcActivityNotifications?y.player.npcActivityNotifications.filter(e=>!e.read).length:0),me=o(()=>y.player.missionReports?y.player.missionReports.filter(e=>!e.read).length:0),he=o(()=>y.player.giftNotifications?y.player.giftNotifications.filter(e=>!e.read).length:0),ge=o(()=>y.player.giftRejectedNotifications?y.player.giftRejectedNotifications.filter(e=>!e.read).length:0),_e=o(()=>Y.value+fe.value),ve=o(()=>pe.value+he.value+ge.value),ye=o(()=>[{value:`battles`,icon:w,label:A(`messagesView.battles`),unreadCount:J.value},{value:`spy`,icon:x,label:A(`messagesView.spy`),unreadCount:_e.value},{value:`missions`,icon:S,label:A(`messagesView.missions`),unreadCount:me.value},{value:`npc`,icon:re,label:A(`messagesView.npc`),unreadCount:ve.value}]),X=o(()=>y.player.giftNotifications?[...y.player.giftNotifications].sort((e,t)=>t.timestamp-e.timestamp):[]),Z=o(()=>y.player.giftRejectedNotifications?[...y.player.giftRejectedNotifications].sort((e,t)=>t.timestamp-e.timestamp):[]),Q=e=>e.winner===`draw`?`secondary`:(e.attackerId===y.player.id?e.winner===`attacker`:e.winner===`defender`)?`default`:`destructive`,be=e=>e.winner===`draw`?A(`messagesView.draw`):(e.attackerId===y.player.id?e.winner===`attacker`:e.winner===`defender`)?A(`messagesView.victory`):A(`messagesView.defeat`),xe=e=>{R.value=e,M.value=!0,e.read||=!0},Se=e=>{z.value=e,L.value=!0,e.read||=!0},Ce=e=>{e.read||=!0},we=e=>{let t=y.player.battleReports.findIndex(t=>t.id===e);t>-1&&y.player.battleReports.splice(t,1)},Te=e=>{let t=y.player.spyReports.findIndex(t=>t.id===e);t>-1&&y.player.spyReports.splice(t,1)},Ee=e=>{if(!y.player.spiedNotifications)return;let t=y.player.spiedNotifications.findIndex(t=>t.id===e);t>-1&&y.player.spiedNotifications.splice(t,1)},De=e=>{e.read||=!0},Oe=e=>{if(!y.player.npcActivityNotifications)return;let t=y.player.npcActivityNotifications.findIndex(t=>t.id===e);t>-1&&y.player.npcActivityNotifications.splice(t,1)},$=e=>({[D.Transport]:A(`fleetView.transport`),[D.Colonize]:A(`fleetView.colonize`),[D.Deploy]:A(`fleetView.deploy`),[D.Recycle]:A(`fleetView.recycle`),[D.Destroy]:A(`fleetView.destroy`)})[e]||e,ft=e=>{e.read||=!0},pt=e=>{if(!y.player.missionReports)return;let t=y.player.missionReports.findIndex(t=>t.id===e);t>-1&&y.player.missionReports.splice(t,1)},mt=e=>{e.read||=!0},ht=e=>{let t=O.npcs.find(t=>t.id===e.fromNpcId);t&&a(y.player,t,e)},gt=e=>{let t=O.npcs.find(t=>t.id===e.fromNpcId);t&&p(y.player,t,e)},_t=e=>{if(!y.player.giftNotifications)return;let t=y.player.giftNotifications.findIndex(t=>t.id===e);t>-1&&y.player.giftNotifications.splice(t,1)},vt=e=>{e.read||=!0},yt=e=>{if(!y.player.giftRejectedNotifications)return;let t=y.player.giftRejectedNotifications.findIndex(t=>t.id===e);t>-1&&y.player.giftRejectedNotifications.splice(t,1)};return(t,a)=>(_(),c(`div`,Ae,[f(`h1`,je,u(r(A)(`messagesView.title`)),1),h(r(ce),{modelValue:j.value,"onUpdate:modelValue":a[0]||=e=>j.value=e,class:`w-full`},{default:n(()=>[h(r(le),{class:`grid w-full grid-cols-2 sm:grid-cols-4`,"tab-count":4},{default:n(()=>[(_(!0),c(i,null,g(ye.value,t=>(_(),d(r(ue),{key:t.value,value:t.value,class:`flex items-center justify-center gap-1 px-2`},{default:n(()=>[(_(),d(b(t.icon),{class:`h-3 w-3 sm:h-4 sm:w-4`})),f(`span`,Me,u(t.label),1),t.unreadCount>0?(_(),d(r(k),{key:0,variant:`destructive`,class:`hidden sm:flex ml-1`},{default:n(()=>[e(u(t.unreadCount),1)]),_:2},1024)):m(``,!0)]),_:2},1032,[`value`]))),128))]),_:1}),h(r(U),{value:`battles`,class:`mt-4 space-y-2`},{default:n(()=>[r(y).player.battleReports.length===0?(_(),d(r(F),{key:0},{default:n(()=>[h(r(V),{class:`py-8 text-center text-muted-foreground`},{default:n(()=>[e(u(r(A)(`messagesView.noBattleReports`)),1)]),_:1})]),_:1})):m(``,!0),(_(!0),c(i,null,g(H.value,t=>(_(),d(r(F),{key:t.id,onClick:e=>xe(t),class:`cursor-pointer hover:shadow-md transition-shadow`},{default:n(()=>[h(r(B),{class:`pb-3`},{default:n(()=>[f(`div`,Ne,[f(`div`,Pe,[h(r(w),{class:`h-4 w-4 flex-shrink-0`}),h(r(P),{class:`text-base sm:text-lg`},{default:n(()=>[e(u(r(A)(`messagesView.battleReport`)),1)]),_:1}),t.read?m(``,!0):(_(),d(r(k),{key:0,variant:`default`,class:`text-xs`},{default:n(()=>[e(u(r(A)(`messagesView.unread`)),1)]),_:1})),h(r(k),{variant:Q(t),class:`text-xs`},{default:n(()=>[e(u(be(t)),1)]),_:2},1032,[`variant`])]),h(r(N),{onClick:l(e=>we(t.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:n(()=>[h(r(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),h(r(E),{class:`text-xs sm:text-sm`},{default:n(()=>[e(u(r(I)(t.timestamp)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`onClick`]))),128))]),_:1}),h(r(U),{value:`spy`,class:`mt-4 space-y-2`},{default:n(()=>[r(y).player.spyReports.length===0&&G.value.length===0?(_(),d(r(F),{key:0},{default:n(()=>[h(r(V),{class:`py-8 text-center text-muted-foreground`},{default:n(()=>[e(u(r(A)(`messagesView.noSpyReports`)),1)]),_:1})]),_:1})):m(``,!0),(_(!0),c(i,null,g(W.value,t=>(_(),d(r(F),{key:t.id,onClick:e=>Se(t),class:`cursor-pointer hover:shadow-md transition-shadow`},{default:n(()=>[h(r(B),{class:`pb-3`},{default:n(()=>[f(`div`,Fe,[f(`div`,Ie,[h(r(x),{class:`h-4 w-4 flex-shrink-0`}),h(r(P),{class:`text-base sm:text-lg`},{default:n(()=>[e(u(r(A)(`messagesView.spyReport`)),1)]),_:1}),t.read?m(``,!0):(_(),d(r(k),{key:0,variant:`default`,class:`text-xs`},{default:n(()=>[e(u(r(A)(`messagesView.unread`)),1)]),_:1})),h(r(k),{variant:`outline`,class:`text-xs`},{default:n(()=>[e(u(t.targetPlanetId),1)]),_:2},1024)]),h(r(N),{onClick:l(e=>Te(t.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:n(()=>[h(r(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),h(r(E),{class:`text-xs sm:text-sm`},{default:n(()=>[e(u(r(I)(t.timestamp)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`onClick`]))),128)),(_(!0),c(i,null,g(G.value,t=>(_(),d(r(F),{key:t.id,onClick:e=>Ce(t),class:`cursor-pointer hover:shadow-md transition-shadow`},{default:n(()=>[h(r(B),{class:`pb-3`},{default:n(()=>[f(`div`,Le,[f(`div`,Re,[h(r(te),{class:`h-4 w-4 flex-shrink-0 text-destructive`}),h(r(P),{class:`text-base sm:text-lg`},{default:n(()=>[e(u(r(A)(`messagesView.spiedNotification`)),1)]),_:1}),t.read?m(``,!0):(_(),d(r(k),{key:0,variant:`default`,class:`text-xs`},{default:n(()=>[e(u(r(A)(`messagesView.unread`)),1)]),_:1})),h(r(k),{variant:t.detectionSuccess?`destructive`:`secondary`,class:`text-xs`},{default:n(()=>[e(u(t.detectionSuccess?r(A)(`messagesView.detected`):r(A)(`messagesView.undetected`)),1)]),_:2},1032,[`variant`])]),h(r(N),{onClick:l(e=>Ee(t.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:n(()=>[h(r(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),h(r(E),{class:`text-xs sm:text-sm`},{default:n(()=>[e(u(t.npcName)+` → `+u(t.targetPlanetName)+` · `+u(r(I)(t.timestamp)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`onClick`]))),128))]),_:1}),h(r(U),{value:`npc`,class:`mt-4 space-y-2`},{default:n(()=>[q.value.length===0&&X.value.length===0&&Z.value.length===0?(_(),d(r(F),{key:0},{default:n(()=>[h(r(V),{class:`py-8 text-center text-muted-foreground`},{default:n(()=>[e(u(r(A)(`messagesView.noNPCActivity`)),1)]),_:1})]),_:1})):m(``,!0),(_(!0),c(i,null,g(q.value,t=>(_(),d(r(F),{key:t.id,onClick:e=>De(t),class:`cursor-pointer hover:shadow-md transition-shadow`},{default:n(()=>[h(r(B),{class:`pb-3`},{default:n(()=>[f(`div`,ze,[f(`div`,Be,[h(r(ie),{class:`h-4 w-4 flex-shrink-0 text-blue-500`}),h(r(P),{class:`text-base sm:text-lg`},{default:n(()=>[e(u(r(A)(`messagesView.npcRecycleActivity`)),1)]),_:1}),t.read?m(``,!0):(_(),d(r(k),{key:0,variant:`default`,class:`text-xs`},{default:n(()=>[e(u(r(A)(`messagesView.unread`)),1)]),_:1}))]),h(r(N),{onClick:l(e=>Oe(t.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:n(()=>[h(r(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),h(r(E),{class:`text-xs sm:text-sm`},{default:n(()=>[e(u(t.npcName)+` → `+u(t.targetPlanetName||`[${t.targetPosition.galaxy}:${t.targetPosition.system}:${t.targetPosition.position}]`)+` · `+u(r(I)(t.timestamp)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`onClick`]))),128)),(_(!0),c(i,null,g(X.value,t=>(_(),d(r(F),{key:t.id,onClick:e=>mt(t),class:`hover:shadow-md transition-shadow`},{default:n(()=>[h(r(B),{class:`pb-3`},{default:n(()=>[f(`div`,Ve,[f(`div`,He,[h(r(ee),{class:`h-4 w-4 flex-shrink-0 text-green-600`}),h(r(P),{class:`text-base sm:text-lg`},{default:n(()=>[e(u(r(A)(`messagesView.giftFrom`).replace(`{npcName}`,t.fromNpcName)),1)]),_:2},1024),t.read?m(``,!0):(_(),d(r(k),{key:0,variant:`default`,class:`text-xs`},{default:n(()=>[e(u(r(A)(`messagesView.unread`)),1)]),_:1}))]),h(r(N),{onClick:l(e=>_t(t.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:n(()=>[h(r(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),h(r(E),{class:`text-xs sm:text-sm`},{default:n(()=>[e(u(r(I)(t.timestamp)),1)]),_:2},1024)]),_:2},1024),h(r(V),null,{default:n(()=>[f(`div`,Ue,[f(`div`,We,[f(`div`,Ge,u(r(A)(`messagesView.giftResources`))+`:`,1),f(`div`,Ke,[t.resources.metal>0?(_(),c(`div`,qe,u(r(A)(`resources.metal`))+`: `+u(t.resources.metal.toLocaleString()),1)):m(``,!0),t.resources.crystal>0?(_(),c(`div`,Je,u(r(A)(`resources.crystal`))+`: `+u(t.resources.crystal.toLocaleString()),1)):m(``,!0),t.resources.deuterium>0?(_(),c(`div`,Ye,u(r(A)(`resources.deuterium`))+`: `+u(t.resources.deuterium.toLocaleString()),1)):m(``,!0)])]),f(`div`,Xe,[e(u(r(A)(`messagesView.expectedReputation`))+`: `,1),f(`span`,Ze,`+`+u(t.expectedReputationGain),1)]),f(`div`,Qe,[h(r(N),{onClick:l(e=>ht(t),[`stop`]),variant:`default`,size:`sm`,class:`flex-1`},{default:n(()=>[h(r(ne),{class:`h-4 w-4 mr-1`}),e(` `+u(r(A)(`messagesView.acceptGift`)),1)]),_:1},8,[`onClick`]),h(r(N),{onClick:l(e=>gt(t),[`stop`]),variant:`outline`,size:`sm`,class:`flex-1`},{default:n(()=>[h(r(C),{class:`h-4 w-4 mr-1`}),e(` `+u(r(A)(`messagesView.rejectGift`)),1)]),_:1},8,[`onClick`])])])]),_:2},1024)]),_:2},1032,[`onClick`]))),128)),(_(!0),c(i,null,g(Z.value,t=>(_(),d(r(F),{key:t.id,onClick:e=>vt(t),class:`hover:shadow-md transition-shadow`},{default:n(()=>[h(r(B),{class:`pb-3`},{default:n(()=>[f(`div`,$e,[f(`div`,et,[h(r(C),{class:`h-4 w-4 flex-shrink-0 text-red-600`}),h(r(P),{class:`text-base sm:text-lg`},{default:n(()=>[e(u(r(A)(`messagesView.giftRejectedBy`).replace(`{npcName}`,t.npcName)),1)]),_:2},1024),t.read?m(``,!0):(_(),d(r(k),{key:0,variant:`default`,class:`text-xs`},{default:n(()=>[e(u(r(A)(`messagesView.unread`)),1)]),_:1}))]),h(r(N),{onClick:l(e=>yt(t.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:n(()=>[h(r(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),h(r(E),{class:`text-xs sm:text-sm`},{default:n(()=>[e(u(r(I)(t.timestamp)),1)]),_:2},1024)]),_:2},1024),h(r(V),null,{default:n(()=>[f(`div`,tt,[f(`div`,nt,[f(`div`,rt,u(r(A)(`messagesView.rejectedResources`))+`:`,1),f(`div`,it,[t.rejectedResources.metal>0?(_(),c(`div`,at,u(r(A)(`resources.metal`))+`: `+u(t.rejectedResources.metal.toLocaleString()),1)):m(``,!0),t.rejectedResources.crystal>0?(_(),c(`div`,ot,u(r(A)(`resources.crystal`))+`: `+u(t.rejectedResources.crystal.toLocaleString()),1)):m(``,!0),t.rejectedResources.deuterium>0?(_(),c(`div`,st,u(r(A)(`resources.deuterium`))+`: `+u(t.rejectedResources.deuterium.toLocaleString()),1)):m(``,!0)])]),f(`div`,ct,[e(u(r(A)(`messagesView.currentReputation`))+`: `,1),f(`span`,{class:v(t.currentReputation>=0?`text-green-600`:`text-red-600`)},u(t.currentReputation),3)]),f(`div`,lt,u(r(A)(`messagesView.rejectionReason.`+t.reason)),1)])]),_:2},1024)]),_:2},1032,[`onClick`]))),128))]),_:1}),h(r(U),{value:`missions`,class:`mt-4 space-y-2`},{default:n(()=>[K.value.length===0?(_(),d(r(F),{key:0},{default:n(()=>[h(r(V),{class:`py-8 text-center text-muted-foreground`},{default:n(()=>[e(u(r(A)(`messagesView.noMissionReports`)),1)]),_:1})]),_:1})):m(``,!0),(_(!0),c(i,null,g(K.value,t=>(_(),d(r(F),{key:t.id,onClick:e=>ft(t),class:`cursor-pointer hover:shadow-md transition-shadow`},{default:n(()=>[h(r(B),{class:`pb-3`},{default:n(()=>[f(`div`,ut,[f(`div`,dt,[h(r(S),{class:`h-4 w-4 flex-shrink-0`}),h(r(P),{class:`text-base sm:text-lg`},{default:n(()=>[e(u($(t.missionType)),1)]),_:2},1024),t.read?m(``,!0):(_(),d(r(k),{key:0,variant:`default`,class:`text-xs`},{default:n(()=>[e(u(r(A)(`messagesView.unread`)),1)]),_:1})),h(r(k),{variant:t.success?`default`:`destructive`,class:`text-xs`},{default:n(()=>[e(u(t.success?r(A)(`messagesView.success`):r(A)(`messagesView.failed`)),1)]),_:2},1032,[`variant`])]),h(r(N),{onClick:l(e=>pt(t.id),[`stop`]),variant:`ghost`,size:`icon`,class:`h-8 w-8 flex-shrink-0`},{default:n(()=>[h(r(T),{class:`h-4 w-4`})]),_:1},8,[`onClick`])]),h(r(E),{class:`text-xs sm:text-sm`},{default:n(()=>[e(u(t.originPlanetName)+` → `+u(t.targetPlanetName||`[${t.targetPosition.galaxy}:${t.targetPosition.system}:${t.targetPosition.position}]`)+` · `+u(r(I)(t.timestamp)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,[`onClick`]))),128))]),_:1})]),_:1},8,[`modelValue`]),h(de,{open:M.value,"onUpdate:open":a[1]||=e=>M.value=e,report:R.value},null,8,[`open`,`report`]),h(ke,{open:L.value,"onUpdate:open":a[2]||=e=>L.value=e,report:z.value},null,8,[`open`,`report`])]))}});export{$ as default};